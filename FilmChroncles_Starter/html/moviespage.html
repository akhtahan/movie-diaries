<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies List Page</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>Movies List</h1>

<div class="movie-container" id="movieContainer">
    <!-- Movie Cards Will be Added Here Dynamically -->
</div>

<script>
    fetch("http://localhost:5007/api/movies",{
    method : "GET",
    headers: {
        "content-type": "application/json"
    }
})
    .then(response => response.json())
    .then(data => fetchMovies())
// Function to fetch and display movies from the server
async function fetchMovies() {
    try {
        const response = await fetch('api/Movies');
        const moviesData = await response.json();
        
        // Call a function to display the movies on the UI
        displayMovies(moviesData.movies);
    } catch (error) {
        console.error('Error fetching movies:', error);
    }
}

// Function to dynamically display movies on the UI
function displayMovies(movies) {
    const movieContainer = document.getElementById('movieContainer');

    movies.forEach(movie => {
        const movieCard = document.createElement('div');
        movieCard.classList.add('movie-card');

        movieCard.innerHTML = `
            <h2>${movie.title}</h2>
            <p>${movie.genre} | ${movie.releaseYear} | Rating: ${movie.rating}</p>
            <p>${movie.plot}</p>

            <div class="button-container">
                <button class="watchlist-button" onclick="addToWatchlist(${movie.id})">Add to Watchlist</button>
                <button class="watched-button" onclick="markAsWatched(${movie.id})">Mark as Watched</button>
                <button class="details-button" onclick="viewMovieDetails(${movie.id})">Movie Details</button>
            </div>
        `;

        movieContainer.appendChild(movieCard);
    });
}

// Example functions for button actions
function addToWatchlist(movieId) {
    console.log(`Added movie with ID ${movieId} to watchlist`);
    // You can implement logic to send this information to your server API
}

function markAsWatched(movieId) {
    console.log(`Marked movie with ID ${movieId} as watched`);
    // You can implement logic to send this information to your server API
}

function viewMovieDetails(movieId) {
    console.log(`Viewing details for movie with ID ${movieId}`);
    // You can implement logic to navigate to the movie details page or fetch more details
}

// Fetch movies when the page loads
// fetchMovies();
</script>

</body>
</html>

<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies List Page</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>Movies List</h1>

<div class="movie-container">
    <!-- Example Movie Card -->
    <div class="movie-card">
        <h2>Inception</h2>
        <p>Sci-Fi | 148 min | Rating: 8.8</p>
        <p>A thief enters the dreams of others to steal their secrets.</p>

        <div class="button-container">
            <a href="#" class="watchlist-button">Add to Watchlist</a>
            <a href="#" class="watched-button">Mark as Watched</a>
            <a href="#" class="details-button">Movie Details</a>
        </div>
    </div>

    <!-- Add more movie cards here -->
</div>

</body>
</html> --> -->
